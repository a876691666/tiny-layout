<template>
  <div class="grid-view-example">
    <h2>GridView ç»„ä»¶ç¤ºä¾‹</h2>
    <p>è¿™æ˜¯ä¸€ä¸ªåªè´Ÿè´£æ¸²æŸ“çš„ç½‘æ ¼ç»„ä»¶ï¼Œä¸åŒ…å«ä»»ä½•äº¤äº’åŠŸèƒ½</p>
    
    <div class="demo-container">
      <GridView
        :config="gridConfig"
        :items="gridItems"
        :cell-items="cellItems"
      >
        <!-- è‡ªå®šä¹‰å•å…ƒæ ¼å†…å®¹ -->
        <template #cell="{ item, child }">
          <div class="custom-cell">
            <div class="cell-title">{{ child.title || child.id }}</div>
            <div class="cell-content">{{ child.content || 'å†…å®¹' }}</div>
          </div>
        </template>
      </GridView>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from "vue";
import GridView from "../components/GridView.vue";
import type { GridConfig, GridLayoutData, GridCellData } from "../components/type";

// ç½‘æ ¼é…ç½®
const gridConfig: GridConfig = {
  rows: 3,
  cols: 4,
  gap: 10,
};

// ç½‘æ ¼å¸ƒå±€é¡¹
const gridItems: GridLayoutData[] = [
  {
    id: "container-1",
    x: 0,
    y: 0,
    w: 2,
    h: 1,
    direction: "horizontal",
    align: "center",
  },
  {
    id: "container-2",
    x: 2,
    y: 0,
    w: 2,
    h: 2,
    direction: "vertical",
    align: "stretch",
  },
  {
    id: "container-3",
    x: 0,
    y: 1,
    w: 1,
    h: 2,
    direction: "vertical",
    align: "center",
  },
  {
    id: "container-4",
    x: 1,
    y: 1,
    w: 1,
    h: 1,
    direction: "horizontal",
    align: "center",
  },
];

// å•å…ƒæ ¼æ•°æ®
const cellItems: GridCellData[] = [
  // container-1 çš„å­é¡¹ (æ°´å¹³å¸ƒå±€)
  {
    parentId: "container-1",
    id: "cell-1-1",
    w: 1,
    h: 1,
    title: "æŒ‰é’®1",
    content: "ç‚¹å‡»",
  },
  {
    parentId: "container-1",
    id: "cell-1-2",
    w: 1,
    h: 1,
    title: "æŒ‰é’®2",
    content: "æ“ä½œ",
  },
  {
    parentId: "container-1",
    id: "cell-1-3",
    w: 1,
    h: 1,
    title: "æŒ‰é’®3",
    content: "è®¾ç½®",
  },

  // container-2 çš„å­é¡¹ (å‚ç›´å¸ƒå±€)
  {
    parentId: "container-2",
    id: "cell-2-1",
    w: -1,
    h: 1,
    title: "æ ‡é¢˜åŒºåŸŸ",
    content: "è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜",
  },
  {
    parentId: "container-2",
    id: "cell-2-2",
    w: -1,
    h: -1,
    title: "å†…å®¹åŒºåŸŸ",
    content: "è¿™æ˜¯ä¸»è¦å†…å®¹åŒºåŸŸ",
  },
  {
    parentId: "container-2",
    id: "cell-2-3",
    w: -1,
    h: 1,
    title: "åº•éƒ¨åŒºåŸŸ",
    content: "åº•éƒ¨ä¿¡æ¯",
  },

  // container-3 çš„å­é¡¹ (å‚ç›´å¸ƒå±€)
  {
    parentId: "container-3",
    id: "cell-3-1",
    w: 1,
    h: 1,
    title: "å›¾æ ‡1",
    content: "ğŸ“Š",
  },
  {
    parentId: "container-3",
    id: "cell-3-2",
    w: 1,
    h: 1,
    title: "å›¾æ ‡2",
    content: "ğŸ“ˆ",
  },

  // container-4 çš„å­é¡¹ (æ°´å¹³å¸ƒå±€)
  {
    parentId: "container-4",
    id: "cell-4-1",
    w: 1,
    h: 1,
    title: "å°æŒ‰é’®",
    content: "âœ“",
  },
];
</script>

<style scoped>
.grid-view-example {
  padding: 20px;
  font-family: Arial, sans-serif;
}

.demo-container {
  width: 800px;
  height: 600px;
  border: 2px solid #ddd;
  border-radius: 8px;
  padding: 10px;
  margin: 20px 0;
  background: #f5f5f5;
}

.custom-cell {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 8px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
}

.custom-cell:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.cell-title {
  font-size: 14px;
  font-weight: bold;
  margin-bottom: 4px;
  text-align: center;
}

.cell-content {
  font-size: 12px;
  text-align: center;
  opacity: 0.9;
}

h2 {
  color: #333;
  margin-bottom: 10px;
}

p {
  color: #666;
  margin-bottom: 20px;
}
</style> 